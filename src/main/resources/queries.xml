<?xml version="1.0" encoding="windows-1252" ?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
    <entry key ="consultarSessionActiva">
        SELECT RS.USERLOGGED, RS.CREATION_TIME, RS.ENVIROMENT, RS.ENVIROMENT_FU 
        FROM ERPLXFU.APLSESSION RS WHERE RS.ACTIVE = 1 AND IDSESSION = ? ORDER BY RS.IDSESSION DESC
    </entry>
    <entry key ="consultarPermisosModulos">
        SELECT DISTINCT SUB.IDMODULO AS MODULO, MD.NOMBRE AS NOMBRE_MODULO, MD.ORDEN AS ORDEN_MODULO, MD.ICONO AS ICONO_MODULO, SUB.IDSUBMODULO AS SUBMODULO, 
        SUB.NOMBRE NOMBRE_SUBMODULO, SUB.PAGINA AS PAGINA, SUB.ORDEN AS ORDEN_SUBMODULO, SUB.ICONO AS ICONO_SUBMODULO
        FROM ERPLXFU.APLSUBMODULOS SUB 
        INNER JOIN ERPLXFU.APLUSUARIOS USU ON USU.IDUSUARIO = ? AND USU.ID_APL = ?
        INNER JOIN ERPLXFU.APLMODULOS MD ON SUB.IDMODULO = MD.IDMODULO AND MD.ID_APL = ?
        INNER JOIN ERPLXFU.APLPERMISOS PER ON SUB.IDSUBMODULO = PER.IDSUBMODULO AND USU.IDROL = PER.IDROL
        INNER JOIN ERPLXFU.APLACCIONES ACC ON PER.IDACCION = ACC.IDACCION AND ACC.IDACCION = 'CONSULTA'
        INNER JOIN ERPLXFU.APLROLES ROL ON PER.IDROL = ROL.IDROL
        ORDER BY MD.ORDEN, SUB.ORDEN
    </entry>
    <entry key ="actualizarSesiones">
        UPDATE ERPLXFU.APLSESSION SET ACTIVE = 0 WHERE USERLOGGED = ? AND ACTIVE = 1 AND ID_APL = ?
    </entry>
    <entry key="consultarMaximoIdSession">
        select NEXTVAL FOR ERPLXFU.SESSION_APL_SEQ AS SECUENCIA FROM SYSIBM.SYSDUMMY1
    </entry>
    <entry key="insertarSesion">
        INSERT INTO ERPLXFU.APLSESSION(IDSESSION, ID_APL, USERLOGGED, ENVIROMENT, ENVIROMENT_FU, REDIRECT) VALUES ( ?, ?, ?, ?, ?, 0)
    </entry>
    <entry key="consultarAccionesUsuarioSubModulo">
        SELECT  ACC.IDACCION AS IDACCION, ACC.DESCRIPCION AS DESCRIPCION
        FROM ERPLXFU.APLSUBMODULOS SUB 
        INNER JOIN ERPLXFU.APLPERMISOS PER ON SUB.IDSUBMODULO = PER.IDSUBMODULO
        INNER JOIN ERPLXFU.APLACCIONES ACC ON PER.IDACCION = ACC.IDACCION
        INNER JOIN ERPLXFU.APLROLES ROL ON PER.IDROL = ROL.IDROL
        INNER JOIN ERPLXFU.APLUSUARIOS USU ON USU.IDUSUARIO = ? AND USU.ID_APL = ?  AND ROL.IDROL = USU.IDROL 
        WHERE SUB.IDSUBMODULO = ? 
    </entry>
    <entry key="validarUsuarioExistePortal">
        select COUNT(IDUSUARIO) AS USUARIOSREG from ERPLXFU.APLUSUARIOS USU WHERE USU.IDUSUARIO = ? AND USU.ID_APL = ? 
    </entry>
    <entry key="consultarEmpresasUsuario">
        SELECT EMP.IDEMPRESA AS IDEMPRESA, SUBSTRING(RCO.CMPAD1, 1,LENGTH(TRIM(RCO.CMPAD1))-1) AS NIT, RCO.CMPNAM AS NOMBRE_EMPRESA FROM ERPLXFU.APLUSUEMPR EMP
        INNER JOIN ERPLX833F.RCO RCO ON EMP.IDEMPRESA = RCO.CMPNY
        WHERE EMP.IDUSUARIO = ? AND EMP.ID_APL = ?
    </entry>
    <entry key="validarPedidoPrepack">
        SELECT COUNT(LORD) AS LINEAS_PREPACK
        FROM ERPLX833F.ECL 
        WHERE LNET &lt;> 0 AND LCPNT = 'P' AND (CLSTS1 = 1 OR CLSTS2 = 1) AND LORD = ?
    </entry>
    <entry key="consultarLineasPedidoPrepack">
        SELECT * FROM ERPLX833F.ECL ECL JOIN ERPLX833F.CIC CIC ON ECL.LPROD = CIC.ICPROD AND ECL.LICFAC = CIC.ICFAC 
        WHERE LORD = ? ORDER BY LLINE
    </entry>
    <entry key="AA">
        
    </entry>
</properties>